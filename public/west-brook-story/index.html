<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>West Brook Story | SHEDS</title>

  <link rel="stylesheet" href="/libs/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="/libs/bootstrap/dist/css/bootstrap-theme.min.css">

  <link rel="stylesheet" href="css/styles.css">
</head>

<body>

<div class="container-fluid">
  <div class="row">
    <div class="col-lg-10">
      <h3 class="page-header">Trout and salmon in a small stream network in western MA, USA  -  The West Brook Story</h3>

      <div id="chart-container">
        <canvas width="900" height="600"></canvas>
      </div>

      <hr>

      <div class="bottom-container">
        <div class="step-container" style="opacity: 1;">
          <div id="step1" class="step selected">1</div>
          <div id="step2" class="step">2</div>
          <div id="step3" class="step">3</div>
          <div id="step4" class="step">4</div>
          <div id="step5" class="step">5</div>
          <div id="step6" class="step">6</div>
          <div id="step7" class="step">7</div>
          <div id="step8" class="step">Explore</div>
        </div>
      </div>
    </div>

    <div class="col-lg-2">
      <div class = "right-container">
        <div class="description" style="opacity: 1; display: block;">
          <p class = "text" style="opacity: 1;"></p>
        </div>
      </div>

      <div class="panel panel-default">
        <div class="panel-body">
          <form class="form-inline-vertical">
            <div class="form-group form-group-sm">
              <div class="btn-group-vertical pull-left" role="group" aria-label="...">
                Position by:
                <button type="button" class="btn btn-default btn-sm" id="all">None</button>
                <button type="button" class="btn btn-default btn-sm" id="species">Species</button>
                <button type="button" class="btn btn-default btn-sm" id="river">River</button>
                <button type="button" class="btn btn-default btn-sm" id="season">Season</button>
                <button type="button" class="btn btn-default btn-sm" id="year">Year</button>
                <button type="button" class="btn btn-default btn-sm" id="seasonYear">Season/Year</button>
              </div>
            </div>
          </form>

          <form class="form-inline-vertical">
            <div class="form-group form-group-sm">
              <div class="btn-group-vertical pull-right" role="group" aria-label="...">
                Color by:
                <button type="button" class="btn btn-default btn-sm" id="reset">None</button>
                <button type="button" class="btn btn-default btn-sm" id="colorSpecies">Species</button>
                <button type="button" class="btn btn-default btn-sm" id="colorRiver">River</button>
                <button type="button" class="btn btn-default btn-sm" id="colorSeason">Season</button>
                <button type="button" class="btn btn-default btn-sm" id="colorYear">Year</button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
    <div class="col-lg-2">
      <div class="panel panel-default" id="colorLegend">
        <div class="panel-heading" role="tab" id="headingOne">
          <h3 class="panel-title">
            <a class="collapsed" role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
              Color legend
            </a>
          </h3>
        </div>

        <div id="collapseOne" class="panel" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            <div id="legend">

              <canvas id="legendCanvas" width="160" height="500"></canvas>

              <p id='numF'></p>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script src="/libs/d3/d3.min.js"></script>
<script src="/libs/jquery/dist/jquery.min.js"></script>
<script src="/libs/bootstrap/dist/js/bootstrap.min.js"></script>

<script src="js/app.js"></script>

<script>
d3.csv("data/coreDataOut.csv", typeCoreData, function (error,cd) {
  if (error) throw error;

  var cd = getDataEnc(cd);
  csvIn.cd = cd;

  initializeInterface();
  initializeXY(width,height);
  initializeFishData(cd);
  getXY("all");

  // variables for positioning year data
  uniqueYears = sortUnique(state.counts.map(function(d) { return d.year; }));
  stepWidth = (canvas.width - margin.left)/(uniqueYears.length + 1);

  uniqueSeasons = ["Spring", "Summer", "Autumn", "Winter"];
  stepHeight = (canvas.height - margin.top)/(uniqueSeasons.length + 1);

  $("#step1").click()

  simulation
    .nodes(state.counts)
    .on("tick", ticked);
});
</script>
</body>
</html>


