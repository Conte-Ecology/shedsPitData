<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">

  <title>West Brook Story | SHEDS</title>

  <link rel="stylesheet" href="/libs/bootstrap/dist/css/bootstrap.min.css">
  <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/libs/leaflet/dist/leaflet.css">

  <link rel="stylesheet" href="css/styles.css">
</head>

<body>

<div class="container-fluid">
  <div class="row">
    <div class="col-xs-12">
      <h1>The West Brook Story</h1>
      <h2 class="sub-title">Trout and Salmon in a Small Stream Network in Western Massachusetts, USA </h2>
    </div>
  </div>

  <hr>

  <div class="main-container">
    <div class="row">
      <div class="col-xs-12">
        <div class="step-container">
          <div data-value="step1" class="step selected">1</div>
          <div data-value="step2" class="step">2</div>
          <div data-value="step3" class="step">3</div>
          <div data-value="step4" class="step">4</div>
          <div data-value="step5" class="step">5</div>
          <div data-value="step6" class="step">Explore</div>
        </div>
      </div>
    </div>

    <div class="row">
      <div class="col-lg-3">
        <div class="narration-container" style="opacity: 1; display: block;">
          <div class="narration-step" id="narration-step1" style="display:block">
            <p>From 1997 to 2015, we tagged almost 30,000 individual fish.</p>
            <p class="faded">Those fish were captured a total of 63,232 times, many just once, some up to 10 times.</p>
            <p class="faded">Each circle represents <span class="fish-per-circle"></span> individual captures. Individual fish that were captured more than once are included in more than one circle.</p>
            <div class="navigate-btns">
              <div class="btn-group">
                <button class="btn btn-default disabled"><i class="fa fa-angle-double-left"></i> Prev</button>
                <button class="btn btn-default" onclick="app.switchStep('step2')">Next <i class="fa fa-angle-double-right"></i></button>
              </div>
            </div>
          </div>
          <div class="narration-step" id="narration-step2">
            <p>There were three <b>species</b> of fish in the stream.</p>
            <p class="faded"><u>Brook trout</u> are native to this region and reproduce naturally.</p>
            <p class="faded"><u>Brown trout</u> also reproduce naturally, but are not native having been introduced from Europe in the mid 1800's.</p>
            <p class="faded"><u>Atlantic salmon</u> are native but do not reproduce naturally. Young salmon were stocked in the spring of each year until 2004.</p>
            <div class="navigate-btns">
              <div class="btn-group">
                <button class="btn btn-default" onclick="app.switchStep('step1')"><i class="fa fa-angle-double-left"></i> Prev</button>
                <button class="btn btn-default" onclick="app.switchStep('step3')">Next <i class="fa fa-angle-double-right"></i></button>
              </div>
            </div>
          </div>
          <div class="narration-step" id="narration-step3">
            <p>There were four <b>rivers</b> in the stream network.</p>
            <p class="faded">The <u>Main Branch</u> of the West Brook is the primary river.</p>
            <p class="faded">All fish species can freely move in and out of the <u>Small Tributary</u>, but Atlantic Salmon and Brown Trout are rarely found there. Brook Trout use this stream for spawning in the fall.</p>
            <p class="faded">The <u>Large Tributary</u> is also open to the <u>Main Branch</u>. All three species use this stream, but only Brook Trout are found high upstream.</p>
            <p class="faded">A large waterfall near the mouth of the <u>Isolated Tributary</u> blocks access from the <u>Main Branch</u>. Only Brook Trout were found in this stream.</p>
            <div id="map-container"></div>
            <div class="navigate-btns">
              <div class="btn-group">
                <button class="btn btn-default" onclick="app.switchStep('step2')"><i class="fa fa-angle-double-left"></i> Prev</button>
                <button class="btn btn-default" onclick="app.switchStep('step4')">Next <i class="fa fa-angle-double-right"></i></button>
              </div>
            </div>
          </div>
          <div class="narration-step" id="narration-step4">
            <p>We sampled in all four <b>seasons</b> of each year.</p>
            <p class="faded">We captured the most fish in <u>Autumn</u> when the youngest fish hatch and join the population.</p>
            <div class="navigate-btns">
              <div class="btn-group">
                <button class="btn btn-default" onclick="app.switchStep('step3')"><i class="fa fa-angle-double-left"></i> Prev</button>
                <button class="btn btn-default" onclick="app.switchStep('step5')">Next <i class="fa fa-angle-double-right"></i></button>
              </div>
            </div>
          </div>
          <div class="narration-step" id="narration-step5">
            <p>We sampled over 19 <b>years</b> from 1997 to 2015.</p>
            <p class="faded">The total number of captured fish was higher in some years (e.g. 2003) and lower in others (e.g. 2011).</p>
            <p class="faded">Atlantic Salmon were stocked in the spring of each year until 2004. The last remaining individual salmon were captured in 2007.</p>
            <p class="faded">We started capturing Brook Trout and Brown Trout in 2000. Before then, we simply were not looking for them, but that does not mean they were not there.</p>
            <div class="navigate-btns">
              <div class="btn-group">
                <button class="btn btn-default" onclick="app.switchStep('step4')"><i class="fa fa-angle-double-left"></i> Prev</button>
                <button class="btn btn-default" onclick="app.switchStep('step6')">Next <i class="fa fa-angle-double-right"></i></button>
              </div>
            </div>
          </div>
          <div class="narration-step" id="narration-step6">
            <form class="form-inline-vertical">
              <div class="form-group form-group-sm">
                <div class="text-center">
                  Group By
                </div>
                <div class="btn-group-vertical" role="group">
                  <button type="button" class="btn btn-default btn-groupby" data-value="none">None</button>
                  <button type="button" class="btn btn-default btn-groupby" data-value="species">Species</button>
                  <button type="button" class="btn btn-default btn-groupby" data-value="river">River</button>
                  <button type="button" class="btn btn-default btn-groupby" data-value="season">Season</button>
                  <button type="button" class="btn btn-default btn-groupby" data-value="year">Year</button>
                  <button type="button" class="btn btn-default btn-groupby" data-value="seasonyear">Season &amp; Year</button>
                </div>
              </div>
            </form>

            <form class="form-inline-vertical">
              <div class="form-group form-group-sm">
                <div class="text-center">
                  Color By
                </div>
                <div class="btn-group-vertical" role="group">
                  <button type="button" class="btn btn-default btn-colorby" data-value="none">None</button>
                  <button type="button" class="btn btn-default btn-colorby" data-value="species">Species</button>
                  <button type="button" class="btn btn-default btn-colorby" data-value="river">River</button>
                  <button type="button" class="btn btn-default btn-colorby" data-value="season">Season</button>
                  <button type="button" class="btn btn-default btn-colorby" data-value="year">Year</button>
                </div>
              </div>
            </form>

            <div class="navigate-btns">
              <div class="btn-group">
                <button class="btn btn-default" onclick="app.switchStep('step5')"><i class="fa fa-angle-double-left"></i> Prev</button>
                <button class="btn btn-default disabled">Next <i class="fa fa-angle-double-right"></i></button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-lg-9">
        <div id="chart-container">
          <canvas width="870" height="600" id="viz-canvas"></canvas>
          <div id="chart-footnote" style="display:none">
            One <i class="fa fa-circle" style="color:lightgrey;"></i> = <span class="fish-per-circle"></span> captures
          </div>
          <div id="legend">
          </div>
        </div>
      </div>
    </div>

    <div id="loading">
      <p>Loading...</p>
      <p><i class="fa fa-spinner fa-pulse fa-2x fa-fw"></i></p>
    </div>
  </div>

  <hr>
</div>

<script src="/libs/d3/d3.js"></script>
<script src="/libs/jquery/dist/jquery.min.js"></script>
<script src="/libs/bootstrap/dist/js/bootstrap.min.js"></script>
<script src="/libs/leaflet/dist/leaflet.js"></script>

<script src="js/app.js"></script>

<script>
$(document).ready(function () {
  app.init('data/coreDataOut.csv', false);
});
</script>
</body>
</html>


